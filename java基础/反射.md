## 反射
- 概念
  - 反射机制就是将类的各个组成部分(属性，方法，构造器)封装成其他对象。Class,Method,Field,Constructor
- 相关核心类
  - java.lang.Class                   --> 类
  - java.lang.reflect.Constructor     --> 构造方法
  - java.lang.reflect.Field           --> 属性
  - java.lang.reflect.Method          --> 方法
  - java.lang.reflect.Modifier        --> 修饰符
## java类加载的三个阶段
- 源代码 --> 字节码文件
- Class --> 使用ClassLoader加载字节码文件后生成的对象
- 运行时阶段 --> new
## Class三种获取方式
```java
Animal lion = new Animal(1, "狮子");
Class<Animal> clazz1 = Animal.class;
Class<? extends Animal> clazz2 = lion.getClass();
clazz3 = Class.forName("com.mylsaber.entity.Animal");
```
## Class功能
- 获取功能
  - 获取成员变量
    - getField(String name) 根据属性名获取属性对象
    - getFields() 获取所有非私有属性
    - getDeclaredField(String name) 根据属性名获取属性对象，包括私有
    - getDeclaredFields() 获取所有属性对象，包括私有
  - 获取构造方法
    - getConstructor(Class<?> ... parameterTypes) 根据参数类型和个数获取构造方法
    - getConstructors() 获取所有非私有构造方法
    - getDEclaredConstructor(Class<?> ... parameterTypes) 根据参数类型和个数获取构造方法，包括非私有
    - getDeclaredConstructors() 获取所有构造方法
  - 获取成员方法
    - getMethod(String name，Class<?> ...parameterTypes) 根据参数获取公用方法，包括父类
    - getMethods() 获取所有方法，包括父类
    - getDeclaredMethod(String name，Class<?> ... parameterTypes) 根据参数获取本类方法，包括私有
    - getDeclaredMethods() 获取所有本类方法
  - 获取类名
    - getName() 获取全限名
    - getSimpleName() 获取类名
## Constructor类里相关方法
- 相关方法
  - newInstance(Class<?> ... parameters) 根据构造器对象创建一个新的对象
  - setAccessible(boolean flag) 设置强制访问
  - getModifiers() 获取访问修饰符
    - 无修饰符      --> 0
    - public      --> 1
    - private     --> 2
    - protected   --> 4
  - getParameterCount() 获取参数个数
  - getParameterTypes() 获取参数类型
## Field类相关方法
- 相关方法
  - getName() 获取属性名
  - getType() 获取属性类型
  - getModifiers() 获取属性权限符
  - setAccessible(boolean flag) 设置强制访问
  - set(Object object,Object value) 给对象设置属性值
  - get(Object object) 获取属性属性值
## Method类相关方法
- 相关方法
  - getModifiers() 获取方法权限符
  - getName() 获取方法名
  - getParameterCount() 获取方法参数个数
  - getParameterTypes() 获取方法参数类型
  - getReturnType() 获取方法返回类型
  - setAccessible(boolean flag) 设置强制访问
  - invoke(Object object, Object... args) 执行object对象里的这个方法，args是参数